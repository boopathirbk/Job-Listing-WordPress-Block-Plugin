(()=>{"use strict";var e,t={84:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,l=window.wp.element,o=window.wp.blockEditor,i=window.wp.components;function a({initialValue:e,index:o,onUpdate:a}){const[r,s]=(0,l.useState)(e);return(0,l.useEffect)((()=>{s(e)}),[e]),(0,t.createElement)(i.TextareaControl,{label:(0,n.__)("Locations (One per line)","job-listings-block"),value:r,onChange:e=>{s(e),a(o,"locationsText",e)},help:(0,n.__)('Enter each location on a new line. E.g., "City, Country".',"job-listings-block"),required:!0,rows:3})}const r=JSON.parse('{"UU":"job-listings/block"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:l}){const{jobs:r=[],hiringOrganizationName:s,hiringOrganizationUrl:c}=e,b=(0,o.useBlockProps)(),p=(e,t,n)=>{const o=r.map(((l,o)=>{if(o===e){if("locationsText"===t){const e=n.split("\n").map((e=>e.trim())).filter(Boolean);return{...l,locations:e}}return{...l,[t]:n}}return l}));l({jobs:o})};return(0,n.__)("Select Department..."),(()=>{const e=new Set(r.map((e=>e.department?.trim())).filter(Boolean));Array.from(e).sort().map((e=>({label:e,value:e})))})(),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,n.__)("Hiring Organization","job-listings-block"),initialOpen:!0},(0,t.createElement)(i.TextControl,{label:(0,n.__)("Organization Name","job-listings-block"),value:s,onChange:e=>l({hiringOrganizationName:e}),help:(0,n.__)("Used for SEO Schema.","job-listings-block")}),(0,t.createElement)(i.TextControl,{label:(0,n.__)("Organization Website URL","job-listings-block"),value:c,onChange:e=>l({hiringOrganizationUrl:e}),type:"url",help:(0,n.__)("Used for SEO Schema.","job-listings-block")})),(0,t.createElement)(i.PanelBody,{title:(0,n.__)("Manage Job Listings","job-listings-block"),initialOpen:!0},0===r.length&&(0,t.createElement)(i.Notice,{status:"info",isDismissible:!1},(0,n.__)('No jobs added yet. Click "Add Job" to start.',"job-listings-block")),r.map(((e,o)=>(0,t.createElement)(i.PanelBody,{key:e.id||o,title:`${(0,n.__)("Job","job-listings-block")} ${o+1}: ${e.title||(0,n.__)("(New Job)")}`,initialOpen:!1,className:"job-listings-block-job-panel"},(0,t.createElement)(i.TextControl,{label:(0,n.__)("Job Title","job-listings-block"),value:e.title,onChange:e=>p(o,"title",e),required:!0}),(0,t.createElement)(i.TextControl,{label:(0,n.__)("Department","job-listings-block"),value:e.department,onChange:e=>p(o,"department",e),required:!0}),(0,t.createElement)(a,{initialValue:(e.locations||[]).join("\n"),index:o,onUpdate:p}),(0,t.createElement)(i.SelectControl,{label:(0,n.__)("Employment Type","job-listings-block"),value:e.employmentType,options:[{label:"Full-time",value:"Full-time"},{label:"Part-time",value:"Part-time"},{label:"Contract",value:"Contract"},{label:"Temporary",value:"Temporary"},{label:"Internship",value:"Internship"}],onChange:e=>p(o,"employmentType",e)}),(0,t.createElement)(i.TextareaControl,{label:(0,n.__)("Short Description (for SEO)","job-listings-block"),value:e.description,onChange:e=>p(o,"description",e),help:(0,n.__)("A brief summary used in structured data.","job-listings-block"),rows:3}),(0,t.createElement)(i.TextControl,{label:(0,n.__)("Learn More URL","job-listings-block"),value:e.url,onChange:e=>p(o,"url",e),type:"url",required:!0}),(0,t.createElement)(i.ToggleControl,{label:(0,n.__)("Open link in new tab","job-listings-block"),checked:!!e.openInNewTab,onChange:e=>p(o,"openInNewTab",e)}),(0,t.createElement)(i.Button,{isDestructive:!0,isSmall:!0,variant:"secondary",onClick:()=>(e=>{const t=r.filter(((t,n)=>n!==e));l({jobs:t})})(o),style:{marginTop:"10px"}},(0,n.__)("Remove Job","job-listings-block")," ",o+1)))),(0,t.createElement)(i.Button,{variant:"primary",onClick:()=>{const e=[...r,{id:`job-${Date.now()}`,title:"",department:"",locations:[],employmentType:"Full-time",description:"",url:"",openInNewTab:!1}];l({jobs:e})}},(0,n.__)("Add Job","job-listings-block")))),(0,t.createElement)("div",{...b},(0,t.createElement)(i.__experimentalHeading,{level:4},(0,n.__)("Job Listings Preview","job-listings-block")),0===r.length?(0,t.createElement)("p",null,(0,n.__)("Add jobs using the sidebar controls.","job-listings-block")):(0,t.createElement)("p",null,`${r.length} ${1===r.length?(0,n.__)("job"):(0,n.__)("jobs")} configured. See frontend for full preview with filters.`)))}})}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,l),i.exports}l.m=t,e=[],l.O=(t,n,o,i)=>{if(!n){var a=1/0;for(b=0;b<e.length;b++){for(var[n,o,i]=e[b],r=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(r=!1,i<a&&(a=i));if(r){e.splice(b--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var b=e.length;b>0&&e[b-1][2]>i;b--)e[b]=e[b-1];e[b]=[n,o,i]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,r,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in r)l.o(r,o)&&(l.m[o]=r[o]);if(s)var b=s(l)}for(t&&t(n);c<a.length;c++)i=a[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(b)},n=globalThis.webpackChunkjob_listings_block=globalThis.webpackChunkjob_listings_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=l.O(void 0,[350],(()=>l(84)));o=l.O(o)})();